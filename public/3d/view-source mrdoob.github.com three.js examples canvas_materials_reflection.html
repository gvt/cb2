
<!-- saved from url=(0075)http://mrdoob.github.com/three.js/examples/canvas_materials_reflection.html -->
<html><body><div class="webkit-line-gutter-backdrop"></div><table><tbody><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-doctype">&lt;!DOCTYPE HTML&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;html <span class="webkit-html-attribute-name">lang</span>="<span class="webkit-html-attribute-value">en</span>"&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">	<span class="webkit-html-tag">&lt;head&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		<span class="webkit-html-tag">&lt;title&gt;</span>three.js canvas - spherical reflection&lt;/title&gt;<span class="webkit-html-tag"></span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		<span class="webkit-html-tag">&lt;meta <span class="webkit-html-attribute-name">charset</span>="<span class="webkit-html-attribute-value">utf-8</span>"&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		<span class="webkit-html-tag">&lt;style <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/css</span>"&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			body {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				background-color: #000000;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				margin: 0px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				overflow: hidden;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			#info {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				position: absolute;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				top: 0px; width: 100%;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				color: #ffffff;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				padding: 5px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				font-family: Monospace;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				font-size: 13px;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				text-align: center;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			a {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				color: #ffffff;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			a:hover {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				color: #0080ff;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		&lt;/style&gt;<span class="webkit-html-tag"></span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">	<span class="webkit-html-tag">&lt;/head&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">	<span class="webkit-html-tag">&lt;body&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		<span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">container</span>"&gt;</span><span class="webkit-html-tag">&lt;/div&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		<span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">info</span>"&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			<span class="webkit-html-tag">&lt;a <span class="webkit-html-attribute-name">href</span>="<a class="webkit-html-attribute-value webkit-html-external-link" target="_blank" href="http://github.com/mrdoob/three.js">http://github.com/mrdoob/three.js</a>" <span class="webkit-html-attribute-name">target</span>="<span class="webkit-html-attribute-value">_blank</span>"&gt;</span>three.js<span class="webkit-html-tag">&lt;/a&gt;</span> - spherical reflection demo.<span class="webkit-html-tag">&lt;br /&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			Walt Disney head by <span class="webkit-html-tag">&lt;a <span class="webkit-html-attribute-name">href</span>="<a class="webkit-html-attribute-value webkit-html-external-link" target="_blank" href="http://www.davidoreilly.com/2009/01/walt-disneys-head-on-a-plate">http://www.davidoreilly.com/2009/01/walt-disneys-head-on-a-plate</a>" <span class="webkit-html-attribute-name">target</span>="<span class="webkit-html-attribute-value">_blank</span>"&gt;</span>David OReilly<span class="webkit-html-tag">&lt;/a&gt;</span>. Reflection texture by <span class="webkit-html-tag">&lt;a <span class="webkit-html-attribute-name">href</span>="<a class="webkit-html-attribute-value webkit-html-external-link" target="_blank" href="http://kewlers.scene.org/">http://kewlers.scene.org/</a>" <span class="webkit-html-attribute-name">target</span>="<span class="webkit-html-attribute-value">_blank</span>"&gt;</span>Kewlers<span class="webkit-html-tag">&lt;/a&gt;</span>.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		<span class="webkit-html-tag">&lt;/div&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		<span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/javascript</span>" <span class="webkit-html-attribute-name">src</span>="<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="http://mrdoob.github.com/three.js/build/Three.js">../build/Three.js</a>"&gt;</span><span class="webkit-html-tag">&lt;/script&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		<span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/javascript</span>" <span class="webkit-html-attribute-name">src</span>="<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="http://mrdoob.github.com/three.js/src/extras/ImageUtils.js">../src/extras/ImageUtils.js</a>"&gt;</span><span class="webkit-html-tag">&lt;/script&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		<span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/javascript</span>" <span class="webkit-html-attribute-name">src</span>="<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="http://mrdoob.github.com/three.js/examples/obj/WaltHead.js">obj/WaltHead.js</a>"&gt;</span><span class="webkit-html-tag">&lt;/script&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		<span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/javascript</span>" <span class="webkit-html-attribute-name">src</span>="<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="http://mrdoob.github.com/three.js/examples/js/RequestAnimationFrame.js">js/RequestAnimationFrame.js</a>"&gt;</span><span class="webkit-html-tag">&lt;/script&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		<span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/javascript</span>"&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			var camera, scene, renderer,</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			particle1, particle2, particle2,</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			light1, light2, light3,</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			geometry, mesh;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			init();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			animate();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			function init() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				var container = document.getElementById( 'container' );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				camera = new THREE.Camera( 65, window.innerWidth / window.innerHeight, 1, 1000 );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				camera.position.z = 100;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				scene = new THREE.Scene();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				geometry = new WaltHead();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				geometry.computeVertexNormals();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				mesh = new THREE.Mesh( geometry, new THREE.MeshBasicMaterial( { envMap: ImageUtils.loadTexture( 'textures/metal.jpg', new THREE.SphericalReflectionMapping() ) } ) );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				mesh.overdraw = true;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				scene.addObject( mesh );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				renderer = new THREE.CanvasRenderer();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				renderer.setSize( window.innerWidth, window.innerHeight );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				container.appendChild( renderer.domElement );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			//</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			function animate() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				requestAnimationFrame( animate );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				render();</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			function render() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				var time = new Date().getTime() * 0.0005;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				mesh.rotation.y -= 0.01;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">				renderer.render( scene, camera );</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">			}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		&lt;/script&gt;<span class="webkit-html-tag"></span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">	<span class="webkit-html-tag">&lt;/body&gt;</span> </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/html&gt;</span> </td></tr></tbody></table></body></html>